# tea-api 后端开发计划与进度梳理

## 已完成功能
- 用户管理
  - 用户注册、登录（含 dev-login）
  - 用户信息查询、修改
  - 用户列表、分页
- 商品管理
  - 商品增删改查（CRUD）、分页、分类筛选
  - 商品上下架、库存调整
- 分类管理
  - 分类增删改查、树形结构、分页
- 门店管理
  - 门店增删改查、分页、门店订单统计
- 订单管理
  - 用户下单、订单列表、订单详情、订单状态流转（支付、取消、收货等）
  - 管理端订单查询、导出
- 购物车
  - 加入购物车、修改、删除、清空
- RBAC 权限管理
  - 角色、权限、角色权限分配、用户角色分配、权限缓存失效
  - 权限接口保护（middleware）
- 报表/计提
  - 计提触发、计提汇总、报表导出
- 日志
  - 操作日志、访问日志、导出
- 优惠券
  - 优惠券增删改查、发放、用户领取
- 支付
  - 支付意图创建、支付回调、支付记录、退款记录
- 配置
  - 支持本地/OSS图片上传配置项（见 config.yaml）
- CORS/跨域
  - 全局 CORS 中间件
- 健康检查接口

## 进行中/未完成功能
- 阿里云 OSS 图片上传
  - [x] 已支持 OSS 签名接口 `/api/v1/oss/signature`（如已实现）
  - [ ] OSS 图片删除接口 `/api/v1/oss/delete`（前端已提出需求，需实现）
  - [ ] 图片管理接口（如图片列表、批量删除、鉴权）
- 商品图片管理
  - [ ] 商品多图支持、图片删除联动 OSS
- 订单/支付
  - [ ] 订单退款、售后流程完善
  - [ ] 财务流水、支付/退款导出
- RBAC
  - [ ] 权限细粒度控制、数据权限
  - [ ] 权限变更自动通知/日志
- Mock/测试
  - [ ] 完善接口单元测试、集成测试、E2E
- 文档
  - [ ] 完善 API 文档、接口字段说明、错误码说明
- 其他
  - [ ] 统一错误码、响应格式
  - [ ] 代码/接口安全加固

---
> 本计划基于 configs、router.go、handler、service、前端需求与现有代码整理。请补充实际已实现/未实现项，或直接在此文档维护进度。
