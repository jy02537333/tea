server:
  port: ":9292"
  mode: "debug"
  read_timeout: 60
  write_timeout: 60

database:
  host: "127.0.0.1"
  port: 3309
  username: "root"
  password: "gs963852"
  dbname: "tea_shop"
  charset: "utf8mb4"
  parse_time: true
  loc: "Local"
  max_idle_conns: 10
  max_open_conns: 100
  conn_max_lifetime: 300

redis:
  host: "10.8.0.14"
  port: 6379
  password: ""
  db: 0
  pool_size: 100
  min_idle_conns: 10

rabbitmq:
  host: "10.8.0.14"
  port: 5672
  username: "guest"
  password: "guest"
  vhost: "/"
  connection_timeout: 30
  heartbeat: 30
  exchange:
    tea_shop: "tea_shop_exchange"
  queues:
    order: "tea_shop_order_queue"
    payment: "tea_shop_payment_queue"
    notification: "tea_shop_notification_queue"
    external_order: "tea_shop_external_order_queue"

jwt:
  secret: "tea-shop-jwt-secret-key-2023"
  expires_time: 86400
  buffer_time: 86400
  issuer: "tea-shop"

log:
  level: "info"
  filename: "logs/tea-shop.log"
  max_size: 100
  max_age: 30
  max_backups: 5
  compress: true

wechat:
  app_id: "your_wechat_app_id"
  app_secret: "your_wechat_app_secret"
  mch_id: "your_mch_id"
  api_key: "your_wechat_api_key"
  cert_path: "certs/apiclient_cert.pem"
  key_path: "certs/apiclient_key.pem"
  notify_url: "https://yourdomain.com/api/v1/payment/wechat/notify"

alipay:
  app_id: "your_alipay_app_id"
  private_key: "your_alipay_private_key"
  public_key: "your_alipay_public_key"
  notify_url: "https://yourdomain.com/api/v1/payment/alipay/notify"

delivery:
  meituan:
    app_key: "your_meituan_app_key"
    app_secret: "your_meituan_app_secret"
    base_url: "https://waimaiopen.meituan.com"
  
  eleme:
    app_key: "your_eleme_app_key"
    app_secret: "your_eleme_app_secret"
    base_url: "https://open-api.shop.ele.me"
  
  baidu:
    app_key: "your_baidu_app_key"
    app_secret: "your_baidu_app_secret"
    base_url: "https://waimai.baidu.com"

upload:
  local:
    path: "uploads"
  oss:
    endpoint: "your_oss_endpoint"
    access_key_id: "your_access_key_id"
    access_key_secret: "your_access_key_secret"
    bucket_name: "your_bucket_name"

system:
  env: "local"
  addr: "localhost:9292"
  db_type: "mysql"
  use_multipoint: false
  use_redis: true
  iplimit_count: 15000
  iplimit_time: 3600

finance:
  accrual:
    enabled: false
    time: "02:00"
    rate: 0.001
    use_redis_lock: true
    lock_ttl_second: 3600
    allowed_roles: ["admin"]
    timezone: "Asia/Shanghai"
    skip_weekends: true
    holidays: []

observability:
  operationlog:
    enabled: true
    include_prefixes: ["/api/v1/admin/rbac", "/api/v1/admin/accrual"]
    exclude_prefixes: ["/api/v1/admin/logs"]