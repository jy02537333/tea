"use strict";(wx["webpackJsonp"]=wx["webpackJsonp"]||[]).push([[76],{8773:function(n,t,r){r.d(t,{Bm:function(){return h},WG:function(){return p}});var e=r(3846),u=r(1056),i=r(7168),a=r.n(i),c="http://127.0.0.1:8082",o=process.env.WX_API_BASE_URL||process.env.VITE_API_BASE_URL||c,s=u.A.create({baseURL:o,headers:{"Content-Type":"application/json"},timeout:3e4});function f(){try{var n=a().getStorageSync("token");if(n)return n}catch(n){}return"undefined"!==typeof localStorage?localStorage.getItem("token"):null}function p(n){try{n?a().setStorageSync("token",n):a().removeStorageSync("token")}catch(n){}"undefined"!==typeof localStorage&&(n?localStorage.setItem("token",n):localStorage.removeItem("token")),n?s.defaults.headers.common["Authorization"]="Bearer ".concat(n):delete s.defaults.headers.common["Authorization"]}var l=f();function h(n){return n&&n.data&&"object"===(0,e.A)(n.data)&&"data"in n.data?n.data.data:n&&"undefined"!==typeof n.data?n.data:n}l&&(s.defaults.headers.common["Authorization"]="Bearer ".concat(l)),t.Ay=s},4227:function(n,t,r){r.d(t,{bu:function(){return f},iD:function(){return a},ug:function(){return o}});var e=r(8646),u=r(6673),i=r(8773);function a(n){return c.apply(this,arguments)}function c(){return c=(0,u.A)((0,e.A)().m(function n(t){var r,u;return(0,e.A)().w(function(n){while(1)switch(n.n){case 0:return n.n=1,i.Ay.post("/api/v1/user/login",t);case 1:return r=n.v,u=(0,i.Bm)(r),null!==u&&void 0!==u&&u.token&&(0,i.WG)(u.token),n.a(2,u)}},n)})),c.apply(this,arguments)}function o(){return s.apply(this,arguments)}function s(){return s=(0,u.A)((0,e.A)().m(function n(){var t;return(0,e.A)().w(function(n){while(1)switch(n.n){case 0:return n.n=1,i.Ay.get("/api/v1/user/info");case 1:return t=n.v,n.a(2,(0,i.Bm)(t))}},n)})),s.apply(this,arguments)}function f(n){return p.apply(this,arguments)}function p(){return p=(0,u.A)((0,e.A)().m(function n(t){var r;return(0,e.A)().w(function(n){while(1)switch(n.n){case 0:return n.n=1,i.Ay.put("/api/v1/user/info",t);case 1:return r=n.v,n.a(2,(0,i.Bm)(r))}},n)})),p.apply(this,arguments)}},1243:function(n,t,r){r.d(t,{Fx:function(){return a},SM:function(){return l},V2:function(){return f},bR:function(){return o}});var e=r(8646),u=r(6673),i=r(8773);function a(){return c.apply(this,arguments)}function c(){return c=(0,u.A)((0,e.A)().m(function n(){var t;return(0,e.A)().w(function(n){while(1)switch(n.n){case 0:return n.n=1,i.Ay.get("/api/v1/cart");case 1:return t=n.v,n.a(2,(0,i.Bm)(t))}},n)})),c.apply(this,arguments)}function o(n,t,r){return s.apply(this,arguments)}function s(){return s=(0,u.A)((0,e.A)().m(function n(t,r,u){var a;return(0,e.A)().w(function(n){while(1)switch(n.n){case 0:return n.n=1,i.Ay.post("/api/v1/cart/items",{product_id:t,sku_id:r,quantity:u});case 1:return a=n.v,n.a(2,(0,i.Bm)(a))}},n)})),s.apply(this,arguments)}function f(n,t){return p.apply(this,arguments)}function p(){return p=(0,u.A)((0,e.A)().m(function n(t,r){var u;return(0,e.A)().w(function(n){while(1)switch(n.n){case 0:return n.n=1,i.Ay.put("/api/v1/cart/items/".concat(t),{quantity:r});case 1:return u=n.v,n.a(2,(0,i.Bm)(u))}},n)})),p.apply(this,arguments)}function l(n){return h.apply(this,arguments)}function h(){return h=(0,u.A)((0,e.A)().m(function n(t){var r;return(0,e.A)().w(function(n){while(1)switch(n.n){case 0:return n.n=1,i.Ay.delete("/api/v1/cart/items/".concat(t));case 1:return r=n.v,n.a(2,(0,i.Bm)(r))}},n)})),h.apply(this,arguments)}},8124:function(n,t,r){r.d(t,{Ad:function(){return v},MV:function(){return o},N4:function(){return l},SK:function(){return m},Tg:function(){return A},X9:function(){return a},r$:function(){return f}});var e=r(8646),u=r(6673),i=r(8773);function a(n){return c.apply(this,arguments)}function c(){return c=(0,u.A)((0,e.A)().m(function n(t){var r;return(0,e.A)().w(function(n){while(1)switch(n.n){case 0:return n.n=1,i.Ay.post("/api/v1/orders/from-cart",t);case 1:return r=n.v,n.a(2,(0,i.Bm)(r))}},n)})),c.apply(this,arguments)}function o(){return s.apply(this,arguments)}function s(){return s=(0,u.A)((0,e.A)().m(function n(){var t,r,u=arguments;return(0,e.A)().w(function(n){while(1)switch(n.n){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},n.n=1,i.Ay.get("/api/v1/orders",{params:t});case 1:return r=n.v,n.a(2,(0,i.Bm)(r))}},n)})),s.apply(this,arguments)}function f(n){return p.apply(this,arguments)}function p(){return p=(0,u.A)((0,e.A)().m(function n(t){var r,u;return(0,e.A)().w(function(n){while(1)switch(n.n){case 0:return n.n=1,i.Ay.get("/api/v1/orders/".concat(t));case 1:return r=n.v,u=(0,i.Bm)(r),n.a(2,{order:null===u||void 0===u?void 0:u.order,items:Array.isArray(null===u||void 0===u?void 0:u.items)?u.items:[]})}},n)})),p.apply(this,arguments)}function l(n,t){return h.apply(this,arguments)}function h(){return h=(0,u.A)((0,e.A)().m(function n(t,r){var u;return(0,e.A)().w(function(n){while(1)switch(n.n){case 0:return n.n=1,i.Ay.post("/api/v1/orders/".concat(t,"/cancel"),{reason:r});case 1:u=n.v,(0,i.Bm)(u);case 2:return n.a(2)}},n)})),h.apply(this,arguments)}function A(n){return d.apply(this,arguments)}function d(){return d=(0,u.A)((0,e.A)().m(function n(t){var r;return(0,e.A)().w(function(n){while(1)switch(n.n){case 0:return n.n=1,i.Ay.post("/api/v1/orders/".concat(t,"/pay"));case 1:r=n.v,(0,i.Bm)(r);case 2:return n.a(2)}},n)})),d.apply(this,arguments)}function v(n){return y.apply(this,arguments)}function y(){return y=(0,u.A)((0,e.A)().m(function n(t){var r;return(0,e.A)().w(function(n){while(1)switch(n.n){case 0:return n.n=1,i.Ay.post("/api/v1/orders/".concat(t,"/receive"));case 1:r=n.v,(0,i.Bm)(r);case 2:return n.a(2)}},n)})),y.apply(this,arguments)}function m(n){return w.apply(this,arguments)}function w(){return w=(0,u.A)((0,e.A)().m(function n(t){var r;return(0,e.A)().w(function(n){while(1)switch(n.n){case 0:return n.n=1,i.Ay.post("/api/v1/orders/available-coupons",t);case 1:return r=n.v,n.a(2,(0,i.Bm)(r))}},n)})),w.apply(this,arguments)}},1994:function(n,t,r){r.d(t,{e:function(){return o},v:function(){return a}});var e=r(8646),u=r(6673),i=r(8773);function a(n){return c.apply(this,arguments)}function c(){return c=(0,u.A)((0,e.A)().m(function n(t){var r;return(0,e.A)().w(function(n){while(1)switch(n.n){case 0:return n.n=1,i.Ay.post("/api/v1/payments/unified-order",{order_id:t,method:1,trade_type:"JSAPI",notify_url:""});case 1:return r=n.v,n.a(2,(0,i.Bm)(r))}},n)})),c.apply(this,arguments)}function o(n){return s.apply(this,arguments)}function s(){return s=(0,u.A)((0,e.A)().m(function n(t){var r;return(0,e.A)().w(function(n){while(1)switch(n.n){case 0:return n.n=1,i.Ay.post("/api/v1/payment/mock-callback",{payment_no:t});case 1:return r=n.v,n.a(2,(0,i.Bm)(r))}},n)})),s.apply(this,arguments)}},5665:function(n,t,r){r.d(t,{Pt:function(){return f},d$:function(){return a},oo:function(){return o}});var e=r(8646),u=r(6673),i=r(8773);function a(){return c.apply(this,arguments)}function c(){return c=(0,u.A)((0,e.A)().m(function n(){var t,r,u=arguments;return(0,e.A)().w(function(n){while(1)switch(n.n){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},n.n=1,i.Ay.get("/api/v1/products",{params:t});case 1:return r=n.v,n.a(2,(0,i.Bm)(r))}},n)})),c.apply(this,arguments)}function o(n,t){return s.apply(this,arguments)}function s(){return s=(0,u.A)((0,e.A)().m(function n(t,r){var u;return(0,e.A)().w(function(n){while(1)switch(n.n){case 0:return n.n=1,i.Ay.get("/api/v1/products/".concat(t),{params:r?{store_id:r}:{}});case 1:return u=n.v,n.a(2,(0,i.Bm)(u))}},n)})),s.apply(this,arguments)}var f=a},6787:function(n,t,r){r.d(t,{EC:function(){return o},FS:function(){return v},KW:function(){return l},Rr:function(){return a},gg:function(){return A},n9:function(){return f}});var e=r(8646),u=r(6673),i=r(8773);function a(){return c.apply(this,arguments)}function c(){return c=(0,u.A)((0,e.A)().m(function n(){var t,r,u=arguments;return(0,e.A)().w(function(n){while(1)switch(n.n){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},n.n=1,i.Ay.get("/api/v1/stores",{params:t});case 1:return r=n.v,n.a(2,(0,i.Bm)(r))}},n)})),c.apply(this,arguments)}function o(n){return s.apply(this,arguments)}function s(){return s=(0,u.A)((0,e.A)().m(function n(t){var r;return(0,e.A)().w(function(n){while(1)switch(n.n){case 0:return n.n=1,i.Ay.get("/api/v1/stores/".concat(t,"/accounts"));case 1:return r=n.v,n.a(2,(0,i.Bm)(r))}},n)})),s.apply(this,arguments)}function f(n,t){return p.apply(this,arguments)}function p(){return p=(0,u.A)((0,e.A)().m(function n(t,r){var u;return(0,e.A)().w(function(n){while(1)switch(n.n){case 0:return n.n=1,i.Ay.post("/api/v1/stores/".concat(t,"/accounts"),r);case 1:return u=n.v,n.a(2,(0,i.Bm)(u))}},n)})),p.apply(this,arguments)}function l(n,t,r){return h.apply(this,arguments)}function h(){return h=(0,u.A)((0,e.A)().m(function n(t,r,u){var a;return(0,e.A)().w(function(n){while(1)switch(n.n){case 0:return n.n=1,i.Ay.put("/api/v1/stores/".concat(t,"/accounts/").concat(r),u);case 1:return a=n.v,n.a(2,(0,i.Bm)(a))}},n)})),h.apply(this,arguments)}function A(n,t){return d.apply(this,arguments)}function d(){return d=(0,u.A)((0,e.A)().m(function n(t,r){var u;return(0,e.A)().w(function(n){while(1)switch(n.n){case 0:return n.n=1,i.Ay.delete("/api/v1/stores/".concat(t,"/accounts/").concat(r));case 1:return u=n.v,n.a(2,(0,i.Bm)(u))}},n)})),d.apply(this,arguments)}function v(n){return y.apply(this,arguments)}function y(){return y=(0,u.A)((0,e.A)().m(function n(t){var r,u,a=arguments;return(0,e.A)().w(function(n){while(1)switch(n.n){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},n.n=1,i.Ay.get("/api/v1/stores/".concat(t,"/finance/transactions"),{params:r});case 1:return u=n.v,n.a(2,(0,i.Bm)(u))}},n)})),y.apply(this,arguments)}},9776:function(n,t,r){r.d(t,{M0:function(){return v},OT:function(){return b},es:function(){return d},ns:function(){return I}});var e=r(8646),u=r(6045),i=r(6673),a=r(3846),c=r(7168),o=r.n(c),s=r(8773);function f(){return p.apply(this,arguments)}function p(){return p=(0,i.A)((0,e.A)().m(function n(){var t;return(0,e.A)().w(function(n){while(1)switch(n.n){case 0:return n.n=1,s.Ay.get("/api/v1/user/default-address");case 1:return t=n.v,n.a(2,(0,s.Bm)(t))}},n)})),p.apply(this,arguments)}function l(n){return h.apply(this,arguments)}function h(){return h=(0,i.A)((0,e.A)().m(function n(t){var r;return(0,e.A)().w(function(n){while(1)switch(n.n){case 0:return n.n=1,s.Ay.put("/api/v1/user/default-address",{address:t});case 1:return r=n.v,n.a(2,(0,s.Bm)(r))}},n)})),h.apply(this,arguments)}var A="tea_default_address";function d(n){if(!n)return null;var t=n;if("string"===typeof t){var r=t.trim();if(!r)return null;try{t=JSON.parse(r)}catch(n){return{detail:r,full:r}}}if("object"===(0,a.A)(t)&&null!==t){var e=t.name||t.contact||t.receiver||t.consignee||t.userName,u=t.phone||t.mobile||t.tel||t.telNumber,i=[t.province,t.city,t.county,t.area,t.street,t.detail,t.detailInfo,t.address,t.full].filter(function(n){return"string"===typeof n&&n.trim().length>0}).map(function(n){return n.trim()}),c=t.detail||t.detailInfo||t.address||i.join(""),o=t.full||c||i.join("");return{contact:e,phone:u,detail:c||o,full:o||c}}return null}function v(n){if(!n)return"";var t=[n.contact,n.phone,n.detail||n.full].filter(function(n){return!!n});return t.join(" \xb7 ")}function y(){return m.apply(this,arguments)}function m(){return m=(0,i.A)((0,e.A)().m(function n(){var t;return(0,e.A)().w(function(n){while(1)switch(n.p=n.n){case 0:return n.p=0,n.n=1,o().getStorage({key:A});case 1:return t=n.v,n.a(2,t.data);case 2:return n.p=2,n.v,n.a(2,null)}},n,null,[[0,2]])})),m.apply(this,arguments)}function w(n){return g.apply(this,arguments)}function g(){return g=(0,i.A)((0,e.A)().m(function n(t){return(0,e.A)().w(function(n){while(1)switch(n.n){case 0:return n.n=1,o().setStorage({key:A,data:t});case 1:return n.a(2)}},n)})),g.apply(this,arguments)}function B(n,t){var r=d(n);if(!r)return null;var e=(0,u.A)((0,u.A)({},r),{},{full:r.full||r.detail,detail:r.detail||r.full,updatedAt:null===t||void 0===t?void 0:t.updatedAt,timestamp:Date.now(),source:null===t||void 0===t?void 0:t.source});if(n&&"object"===(0,a.A)(n)){var i=n;i.orderId&&(e.orderId=Number(i.orderId)),i.orderNo&&(e.orderNo=String(i.orderNo))}return e}function S(){return k.apply(this,arguments)}function k(){return k=(0,i.A)((0,e.A)().m(function n(){var t;return(0,e.A)().w(function(n){while(1)switch(n.n){case 0:return n.n=1,f();case 1:if(t=n.v,null!==t&&void 0!==t&&t.address){n.n=2;break}return n.a(2,null);case 2:return n.a(2,B(t.address,{updatedAt:t.updated_at||void 0,source:"server"}))}},n)})),k.apply(this,arguments)}function b(n){return _.apply(this,arguments)}function _(){return _=(0,i.A)((0,e.A)().m(function n(t){var r,u;return(0,e.A)().w(function(n){while(1)switch(n.p=n.n){case 0:if(!1===(null===t||void 0===t?void 0:t.refreshRemote)){n.n=6;break}return n.p=1,n.n=2,S();case 2:if(r=n.v,!r){n.n=4;break}return n.n=3,w(r);case 3:return n.a(2,r);case 4:n.n=6;break;case 5:n.p=5,u=n.v,console.error("load remote default address failed",u);case 6:return n.a(2,y())}},n,null,[[1,5]])})),_.apply(this,arguments)}function I(n,t){return N.apply(this,arguments)}function N(){return N=(0,i.A)((0,e.A)().m(function n(t,r){var i,a;return(0,e.A)().w(function(n){while(1)switch(n.p=n.n){case 0:return i=(0,u.A)((0,u.A)({},t),{},{timestamp:Date.now()}),n.n=1,w(i);case 1:if(!1!==(null===r||void 0===r?void 0:r.syncRemote)){n.n=2;break}return n.a(2);case 2:return n.p=2,n.n=3,l({contact:i.contact,phone:i.phone,detail:i.detail,full:i.full,orderId:i.orderId,orderNo:i.orderNo,updatedAt:i.updatedAt||(new Date).toISOString()});case 3:n.n=5;break;case 4:n.p=4,a=n.v,console.error("sync default address to server failed",a);case 5:return n.a(2)}},n,null,[[2,4]])})),N.apply(this,arguments)}}}]);