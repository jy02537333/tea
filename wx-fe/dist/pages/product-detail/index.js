"use strict";(wx["webpackJsonp"]=wx["webpackJsonp"]||[]).push([[788],{7484:function(n,e,r){var t=r(7586),i=r(8646),s=r(6673),a=r(9986),o=r(7378),c=r(427),u=r(7168),l=r.n(u),d=r(5665),p=r(1243),h=r(6106);function f(){var n=(0,o.useState)(null),e=(0,a.A)(n,2),r=e[0],t=e[1],u=(0,o.useState)(!1),f=(0,a.A)(u,2),v=f[0],b=f[1],m=(0,o.useState)(!1),g=(0,a.A)(m,2),w=g[0],x=g[1];function j(){return A.apply(this,arguments)}function A(){return A=(0,s.A)((0,i.A)().m(function n(){var e,r,s,a,o,c,u,p,h;return(0,i.A)().w(function(n){while(1)switch(n.p=n.n){case 0:if(s=l().getCurrentInstance().router,a=null===s||void 0===s||null===(e=s.params)||void 0===e?void 0:e.id,o=null===s||void 0===s||null===(r=s.params)||void 0===r?void 0:r.store_id,a){n.n=1;break}return n.a(2);case 1:return c=Number(a),u=o?Number(o):void 0,b(!0),n.p=2,n.n=3,(0,d.oo)(c,u);case 3:p=n.v,t(p),n.n=5;break;case 4:n.p=4,h=n.v,console.error("load product failed",h);case 5:return n.p=5,b(!1),n.f(5);case 6:return n.a(2)}},n,null,[[2,4,5,6]])})),A.apply(this,arguments)}function y(){return k.apply(this,arguments)}function k(){return k=(0,s.A)((0,i.A)().m(function n(){var e;return(0,i.A)().w(function(n){while(1)switch(n.p=n.n){case 0:if(r){n.n=1;break}return n.a(2);case 1:return x(!0),n.p=2,n.n=3,(0,p.bR)(r.id,null,1);case 3:l().showToast({title:"\u5df2\u52a0\u5165\u8d2d\u7269\u8f66",icon:"success",duration:1500}),n.n=5;break;case 4:n.p=4,e=n.v,console.error("add to cart failed",e),l().showToast({title:"\u52a0\u5165\u5931\u8d25",icon:"none",duration:1500});case 5:return n.p=5,x(!1),n.f(5);case 6:return n.a(2)}},n,null,[[2,4,5,6]])})),k.apply(this,arguments)}return(0,o.useEffect)(function(){j()},[]),v?(0,h.jsx)(c.EY,{children:"\u52a0\u8f7d\u4e2d..."}):r?(0,h.jsxs)(c.Ss,{style:{padding:12},children:[r.images&&(0,h.jsx)(c._V,{src:r.images,mode:"aspectFill",style:{width:"100%",height:200,marginBottom:12}}),(0,h.jsx)(c.EY,{style:{fontSize:18,fontWeight:"bold"},children:r.name}),(0,h.jsxs)(c.Ss,{style:{marginTop:8,marginBottom:12},children:[(0,h.jsxs)(c.EY,{children:["\u4ef7\u683c: ",r.price]}),r.original_price&&(0,h.jsxs)(c.EY,{children:[" \u539f\u4ef7: ",r.original_price]})]}),(0,h.jsx)(c.$n,{disabled:w,onClick:y,children:w?"\u63d0\u4ea4\u4e2d...":"\u52a0\u5165\u8d2d\u7269\u8f66"})]}):(0,h.jsx)(c.EY,{children:"\u672a\u627e\u5230\u5546\u54c1"})}var v={},b=(0,t.eU)(f,"pages/product-detail/index",{root:{cn:[]}},v||{});f&&f.behaviors&&(b.behaviors=(b.behaviors||[]).concat(f.behaviors));Page(b)}},function(n){var e=function(e){return n(n.s=e)};n.O(0,[907,96,76],function(){return e(7484)});n.O()}]);