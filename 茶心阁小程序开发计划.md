# 茶心阁小程序开发计划

> 附加说明：下面新增节说明如何在运行环境启用第三方大模型（示例：Claude Sonnet 4.5），该说明**不包含任何 git 操作**，适合由运维或有控制台权限的同事直接在环境中执行。

## 一、项目概述

基于需求文档分析，茶心阁是一个集在线商城、多门店点单（堂食/外卖）、分销系统、会员管理、合伙人管理于一体的综合性茶文化平台。


每次阅读开发计划，浏览项目开发总结.md,项目完成总结.md
项目完成情况写入 项目开发总结.md,项目完成总结.md
项目开发结构按照 项目开发总结.md处理


**技术架构：**
- 前端：微信小程序 + 管理后台Web应用
- 后端：Go 1.21 + 微服务架构
- 数据库：MySQL + Redis
- 支付：微信支付 + 支付宝
- 消息推送：微信公众号
- 第三方服务：配送平台、短信服务

---

## 测试与运行约定

- **运行方式约定（重要）：** 本开发计划明确要求**不使用 Docker**。开发与联调时请在宿主机或虚拟机上直接运行 MySQL/Redis/RabbitMQ 和服务进程，或者使用系统级服务管理（如 `systemd` / Windows 服务）；不得使用 `docker`、`docker-compose` 或容器镜像作为开发/测试的运行方式。若确有必要使用容器化方案，需事先向项目负责人申请并在变更单中记录审批结果。
- **运行方式约定（重要）：** 本开发计划明确要求**不使用 Docker**。开发与联调时请在宿主机或虚拟机上直接运行 MySQL/Redis/RabbitMQ 和服务进程，或者使用系统级服务管理（如 `systemd` / Windows 服务）；不得使用 `docker`、`docker-compose` 或容器镜像作为开发/测试的运行方式。若确有必要使用容器化方案，需事先向项目负责人申请并在变更单中记录审批结果。

- **服务重启约定（重要）：** 在日常开发/联调中，重启服务时**不再额外验证** Redis、MySQL、RabbitMQ 的启动状态（跳过端口/进程检查）；操作应直接以启动/重启服务为准（例如 Windows 下使用 `Restart-Service`、Linux 下使用 `systemctl restart` 或直接启动可执行程序）。如需后续验证请在变更单中说明并经负责人批准。
- **测试目录：** 已将演示/测试代码的集中副本放在 `test/tea-api/` 以便统一查看；保留 `tea-api/test/` 作为模块本地测试集合。
- **注意：** 为避免 Go `internal` 可见性冲突，从仓库根运行 `go test ./...` 时顶层 `test/tea-api/` 中的文件被标记为 `//go:build ignore` 并会被跳过。请在需要运行模块级测试时进入对应子模块目录（例如 `tea-api/`）运行 `go test ./...`。

测试环境与工具地址（用于开发 / CI）：
- MySQL: `root:gs963852@tcp(127.0.0.1:3308)/tea_shop?charset=utf8mb4&parseTime=True&loc=Local`
- Redis: `127.0.0.1:6379` 密码 `123456`
- RabbitMQ: `amqp://guest:guest@127.0.0.1:5672/`

oss:
    key: LTAI5tHCHCCYN4Fda2y19mmc
    secret: I174tiyXYjOskbxfpSyKx63IGIDVK4
    #存储文件目录
    bucketName: zdw-img
    #存储节点
    endpoint: oss-cn-beijing.aliyuncs.com
